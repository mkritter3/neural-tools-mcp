FROM python:3.12-slim

# L9 Minimal - Just MCP server, no models
WORKDIR /app

# Install minimal requirements
RUN pip install --no-cache-dir \
    mcp>=1.0.0 \
    chromadb>=0.4.0 \
    pydantic>=2.0 \
    psutil

# Copy neural system
COPY .claude/neural-system /app/neural-system
COPY .claude/chroma /app/data/chroma

# Set L9 environment
ENV NEURAL_L9_MODE=1 \
    USE_SINGLE_QODO_MODEL=1 \
    PYTHONPATH=/app/neural-system \
    PYTHONUNBUFFERED=1

# Run MCP server
CMD ["python", "/app/neural-system/mcp_neural_server.py"]